<!DOCTYPE html>
<html>

<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>

  </title>
  <style type="text/css">
    body {
      background-color: #FFFFFF;
    }
    
    input {
      display: block;
      margin: 20px;
    }
  </style>
</head>

<body>
  <div align="center">
    <p><img src="https://b627cc12-a-62cb3a1a-s-sites.googlegroups.com/site/imagehosting199/home/GoogleTeamColorSmall.png"></p>
    <table width="459" border="0">
      <tbody>
        <tr>
          <td width="462">
            <div align="center">
              <hr>
            </div>
            <form id="myForm" align="center">
              <input type="text" name="myName" placeholder="Your name..">
              <input type="file" name="myFile" id="myFile" onChange="setStatus(this)">
              <input type="submit" value="Upload File" onclick="submit_click(this);">
            </form>
            <div id="output"></div>
            <script>
              var myFile = document.getElementById('myFile');
              var myForm = document.getElementById('myForm');
              var output = document.getElementById('output');

              function submit_click(button) {
                event.preventDefault();
                var curVal = button.value;
                button.value = 'Uploading..';
                output.innerHTML = '';
                console.log(myFile);
                setStatus(myFile);
                if (!button.parentNode.myFile.value) {
                  button.value = curVal;
                  return false;
                }
                google.script.run.withSuccessHandler(fileUploaded)
                  .uploadFiles(button.parentNode);
                return false;
              }

              function setStatus(file) {
                console.log('setStatus', file);
                if (file.value) {
                  output.innerHTML = 'Fail prikreplen';
                } else {
                  output.innerHTML = 'Fail ne prikreplen';
                }
              }

              function fileUploaded(status) {
                myForm.style.display = 'none';
                output.innerHTML = status;
              }
            </script>
            <hr>
          </td>
        </tr>
      </tbody>
    </table>
    <h3>&nbsp;</h3>
    <p>&nbsp;</p>
  </div>
</body>

</html>
